/*
 * Modern AI Chat CSS
 * Supports Light and Dark themes with CSS variables
 */

/* ========================================
   Root Variables - Light Theme (Default)
   ======================================== */
.root {
    -fx-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    -fx-font-size: 14px;
    
    -sidebar-bg: #F8F9FB;
    -main-bg: #FFFFFF;
    -border-color: #E5E7EB;
    
    -text-primary: #111827;
    -text-secondary: #6B7280;
    -text-muted: #9CA3AF;
    
    -primary-color: #2563EB;
    -primary-hover: #1D4ED8;
    -primary-light: #EEF2FF;
    -primary-selected: #E0E7FF;
    
    -ai-avatar-color: #6366F1;
    -user-bubble-bg: #F3F4F6;
    -step-card-bg: #F9FAFB;
    -card-border-color: transparent;
    -hover-bg: #F3F4F6;
    -input-bg: #F9FAFB;
    
    -scrollbar-thumb: #D1D5DB;
    -nav-border-color: #E5E7EB;
}

/* ========================================
   Dark Theme Variables
   ======================================== */
.root.dark-theme {
    -sidebar-bg: #0B1220;
    -main-bg: linear-gradient(to bottom, #0F172A, #0B1220);
    -border-color: rgba(255, 255, 255, 0.05);
    
    -text-primary: #E5E7EB;
    -text-secondary: #9CA3AF;
    -text-muted: #6B7280;
    
    -primary-color: #3B82F6;
    -primary-hover: #60A5FA;
    -primary-light: #1F2937;
    -primary-selected: #1E3A8A;
    
    -ai-avatar-color: #3B82F6;
    -user-bubble-bg: #1F2937;
    -step-card-bg: #111827;
    -card-border-color: rgba(255, 255, 255, 0.05);
    -hover-bg: #1F2937;
    -input-bg: #111827;
    
    -scrollbar-thumb: #374151;
    -nav-border-color: rgba(255, 255, 255, 0.05);
}

/* ========================================
   Root Pane
   ======================================== */
.root-pane {
    -fx-background-color: -main-bg;
}

/* ========================================
   Sidebar Styles
   ======================================== */
.sidebar {
    -fx-background-color: -sidebar-bg;
    -fx-border-color: transparent -border-color transparent transparent;
    -fx-border-width: 0 1px 0 0;
}

.logo-box {
    -fx-padding: 0 0 0 0;
}

.logo-icon {
    -fx-stroke: transparent;
}

.logo-title {
    -fx-font-size: 18px;
    -fx-font-weight: 700;
    -fx-text-fill: -text-primary;
}

.new-chat-button {
    -fx-background-color: -primary-color;
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-font-weight: 600;
    -fx-background-radius: 12px;
    -fx-border-radius: 12px;
    -fx-padding: 12px 16px;
    -fx-cursor: hand;
    -fx-border-color: transparent;
    -fx-border-width: 0;
}

.new-chat-button:hover {
    -fx-background-color: -primary-hover;
}

.search-field {
    -fx-background-color: -input-bg;
    -fx-background-radius: 20px;
    -fx-border-radius: 20px;
    -fx-border-color: transparent;
    -fx-border-width: 0;
    -fx-padding: 8px 16px;
    -fx-font-size: 14px;
    -fx-text-fill: -text-primary;
    -fx-prompt-text-fill: -text-muted;
}

.search-field:focused {
    -fx-border-color: -primary-color;
    -fx-border-width: 1px;
}

.group-label {
    -fx-font-size: 12px;
    -fx-font-weight: 600;
    -fx-text-fill: -text-muted;
    -fx-padding: 8px 0 4px 0;
}

.chat-list-container {
    -fx-padding: 0;
}

.chat-item {
    -fx-background-radius: 8px;
    -fx-border-radius: 8px;
    -fx-cursor: hand;
    -fx-background-color: transparent;
}

.chat-item-hover {
    -fx-background-color: -hover-bg;
}

.chat-item-selected {
    -fx-background-color: -primary-selected;
}

.chat-item-icon {
    -fx-font-size: 14px;
}

.chat-item-title {
    -fx-font-size: 14px;
    -fx-text-fill: -text-primary;
}

.chat-item-selected .chat-item-title {
    -fx-text-fill: white;
}

.sidebar-bottom {
    -fx-padding: 16px 0 0 0;
    -fx-border-color: -border-color transparent transparent transparent;
    -fx-border-width: 1px 0 0 0;
}

.sidebar-item {
    -fx-padding: 10px 16px;
    -fx-background-radius: 8px;
    -fx-border-radius: 8px;
    -fx-cursor: hand;
    -fx-background-color: transparent;
}

.sidebar-item:hover {
    -fx-background-color: -hover-bg;
}

.sidebar-icon {
    -fx-font-size: 16px;
}

.sidebar-item-text {
    -fx-font-size: 14px;
    -fx-text-fill: -text-secondary;
}

.user-card {
    -fx-padding: 12px;
    -fx-background-color: -step-card-bg;
    -fx-background-radius: 12px;
    -fx-border-radius: 12px;
}

.user-avatar {
    -fx-stroke: transparent;
}

.user-name {
    -fx-font-size: 14px;
    -fx-font-weight: 600;
    -fx-text-fill: -text-primary;
}

.user-plan {
    -fx-font-size: 12px;
    -fx-text-fill: -text-muted;
}

/* ========================================
   Top Navigation Bar
   ======================================== */
.top-nav-bar {
    -fx-background-color: -sidebar-bg;
    -fx-border-color: transparent transparent -nav-border-color transparent;
    -fx-border-width: 0 0 1px 0;
}

.breadcrumb {
    -fx-font-size: 14px;
    -fx-text-fill: -text-secondary;
}

.model-selector {
    -fx-background-color: -step-card-bg;
    -fx-background-radius: 20px;
    -fx-border-radius: 20px;
    -fx-padding: 4px;
}

.model-toggle-button {
    -fx-background-color: transparent;
    -fx-text-fill: -text-secondary;
    -fx-font-size: 13px;
    -fx-font-weight: 500;
    -fx-padding: 8px 16px;
    -fx-background-radius: 16px;
    -fx-border-radius: 16px;
    -fx-cursor: hand;
}

.model-toggle-button:selected {
    -fx-background-color: -primary-selected;
    -fx-text-fill: white;
}

.model-toggle-button:hover {
    -fx-background-color: -hover-bg;
}

.action-button {
    -fx-background-color: transparent;
    -fx-text-fill: -text-secondary;
    -fx-font-size: 14px;
    -fx-padding: 8px 16px;
    -fx-background-radius: 8px;
    -fx-border-radius: 8px;
    -fx-border-color: -border-color;
    -fx-border-width: 1px;
    -fx-cursor: hand;
}

.action-button:hover {
    -fx-background-color: -hover-bg;
}

.theme-toggle-button {
    -fx-background-color: transparent;
    -fx-text-fill: -text-secondary;
    -fx-font-size: 18px;
    -fx-padding: 8px;
    -fx-background-radius: 8px;
    -fx-border-radius: 8px;
    -fx-border-color: transparent;
    -fx-border-width: 0;
    -fx-cursor: hand;
}

.theme-toggle-button:hover {
    -fx-background-color: -hover-bg;
}

/* ========================================
   Main Content Area
   ======================================== */
.main-content {
    -fx-background-color: transparent;
}

.chat-area {
    -fx-background-color: transparent;
    -fx-fit-to-width: true;
}

.chat-area > .viewport {
    -fx-background-color: transparent;
}

.chat-area .scroll-bar:vertical {
    -fx-background-color: transparent;
}

.chat-area .scroll-bar:vertical .thumb {
    -fx-background-color: -scrollbar-thumb;
    -fx-background-radius: 4px;
}

.messages-container {
    -fx-background-color: transparent;
}

/* ========================================
   Message Styles
   ======================================== */
.ai-avatar {
    -fx-stroke: transparent;
}

.ai-message-content {
    -fx-background-color: transparent;
}

.user-message-bubble {
    -fx-background-color: -user-bubble-bg;
    -fx-background-radius: 16px;
    -fx-border-radius: 16px;
}

.user-message-text {
    -fx-font-size: 14px;
    -fx-text-fill: -text-primary;
    -fx-line-spacing: 4px;
}

.stream-message-root {
    -fx-background-color: transparent;
    -fx-padding: 8px 0;
}

/* ========================================
   Step Cards
   ======================================== */
.step-cards-grid {
    -fx-padding: 0;
}

.step-card {
    -fx-background-color: -step-card-bg;
    -fx-background-radius: 16px;
    -fx-border-radius: 16px;
    -fx-border-color: -card-border-color;
    -fx-border-width: 1px;
}

.step-card:hover {
    -fx-background-color: derive(-step-card-bg, 10%);
}

.step-number {
    -fx-font-size: 12px;
    -fx-font-weight: 600;
    -fx-text-fill: -primary-color;
}

.step-title {
    -fx-font-size: 16px;
    -fx-font-weight: 700;
    -fx-text-fill: -text-primary;
}

.step-description {
    -fx-font-size: 13px;
    -fx-text-fill: -text-secondary;
    -fx-line-spacing: 2px;
}

/* ========================================
   Input Area
   ======================================== */
.input-area {
    -fx-background-color: -sidebar-bg;
    -fx-border-color: -nav-border-color transparent transparent transparent;
    -fx-border-width: 1px 0 0 0;
}

.message-text-area {
    -fx-background-color: -input-bg;
    -fx-background-radius: 16px;
    -fx-border-radius: 16px;
    -fx-border-color: transparent;
    -fx-border-width: 0;
    -fx-padding: 16px;
    -fx-font-size: 14px;
    -fx-text-fill: -text-primary;
    -fx-prompt-text-fill: -text-muted;
    -fx-wrap-text: true;
}

.message-text-area:focused {
    -fx-border-color: -primary-color;
    -fx-border-width: 1px;
}

.message-text-area .content {
    -fx-background-color: transparent;
}

.tool-button {
    -fx-background-color: transparent;
    -fx-font-size: 16px;
    -fx-padding: 8px;
    -fx-background-radius: 8px;
    -fx-border-radius: 8px;
    -fx-cursor: hand;
}

.tool-button:hover {
    -fx-background-color: -hover-bg;
}

.web-search-button {
    -fx-background-color: -hover-bg;
    -fx-text-fill: -text-primary;
    -fx-font-size: 13px;
    -fx-font-weight: 500;
    -fx-padding: 8px 16px;
    -fx-background-radius: 20px;
    -fx-border-radius: 20px;
    -fx-cursor: hand;
}

.web-search-button:hover {
    -fx-background-color: derive(-hover-bg, 10%);
}

.send-button {
    -fx-background-color: -primary-color;
    -fx-text-fill: white;
    -fx-font-size: 16px;
    -fx-padding: 0;
    -fx-pref-width: 40px;
    -fx-pref-height: 40px;
    -fx-min-width: 40px;
    -fx-min-height: 40px;
    -fx-max-width: 40px;
    -fx-max-height: 40px;
    -fx-background-radius: 20px;
    -fx-border-radius: 20px;
    -fx-cursor: hand;
}

.send-button:hover {
    -fx-background-color: -primary-hover;
    -fx-effect: dropshadow(three-pass-box, -primary-color, 10, 0.5, 0, 0);
}

.input-hint {
    -fx-font-size: 11px;
    -fx-text-fill: -text-muted;
    -fx-padding: 4px 0 0 0;
}

/* ========================================
   ScrollBar Styling
   ======================================== */
.scroll-bar {
    -fx-background-color: transparent;
}

.scroll-bar .thumb {
    -fx-background-color: -scrollbar-thumb;
    -fx-background-radius: 4px;
}

.scroll-bar .thumb:hover {
    -fx-background-color: derive(-scrollbar-thumb, -10%);
}

.scroll-bar .track {
    -fx-background-color: transparent;
}

.scroll-bar .increment-button,
.scroll-bar .decrement-button {
    -fx-background-color: transparent;
    -fx-padding: 0;
}

/* ========================================
   Markdown Content Overrides
   ======================================== */
.ai-message-content .markdown-content,
.stream-message-root .markdown-content {
    -fx-font-size: 14px;
    -fx-text-fill: -text-primary;
}

.ai-message-content .markdown-content .paragraph,
.stream-message-root .markdown-content .paragraph {
    -fx-padding: 0 0 8px 0;
}

.ai-message-content .markdown-content .heading,
.stream-message-root .markdown-content .heading {
    -fx-font-weight: 700;
    -fx-padding: 8px 0;
    -fx-text-fill: -text-primary;
}

.ai-message-content .markdown-content .code-block,
.stream-message-root .markdown-content .code-block {
    -fx-background-color: -input-bg;
    -fx-background-radius: 8px;
    -fx-padding: 12px;
    -fx-font-family: "SF Mono", Monaco, "Cascadia Code", monospace;
    -fx-font-size: 13px;
}

.ai-message-content .markdown-content .bullet-list,
.stream-message-root .markdown-content .bullet-list {
    -fx-padding: 4px 0 4px 16px;
}

/* ========================================
   Button Cursor Fix
   ======================================== */
.button {
    -fx-cursor: hand;
}

.toggle-button {
    -fx-cursor: hand;
}
