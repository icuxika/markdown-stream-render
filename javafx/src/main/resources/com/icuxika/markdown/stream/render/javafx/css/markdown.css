/* Base Styles */
.markdown-root {
    -fx-spacing: 10;
    -fx-padding: 20;
    -fx-background-color: -md-bg-color;
}

.markdown-text {
    -fx-font-family: "Segoe UI", "Helvetica", "Arial", sans-serif;
    -fx-font-size: 14px;
    -fx-fill: -md-fg-color;
}

/* Typography */
.markdown-bold {
    -fx-font-weight: bold;
}

.markdown-italic {
    -fx-font-style: italic;
}

.markdown-strikethrough {
    -fx-strikethrough: true;
}

/* Headers */
.markdown-heading {
    -fx-padding: 10 0 5 0;
}

.markdown-h1-text { -fx-font-size: 32px; -fx-font-weight: bold; -fx-fill: -md-fg-color; }
.markdown-h2-text { -fx-font-size: 24px; -fx-font-weight: bold; -fx-fill: -md-fg-color; -fx-border-style: solid; -fx-border-width: 0 0 1 0; -fx-border-color: -md-border-color; }
.markdown-h3-text { -fx-font-size: 20px; -fx-font-weight: bold; -fx-fill: -md-fg-color; }
.markdown-h4-text { -fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: -md-fg-color; }
.markdown-h5-text { -fx-font-size: 14px; -fx-font-weight: bold; -fx-fill: -md-fg-color; }
.markdown-h6-text { -fx-font-size: 12px; -fx-font-weight: bold; -fx-fill: -md-sub-text-color; }

/* Paragraph */
.markdown-paragraph {
    -fx-padding: 0 0 10 0;
}

/* Links */
.markdown-link {
    -fx-fill: -md-link-color;
    -fx-underline: true;
    -fx-cursor: hand;
}

/* Inline Code */
.markdown-code {
    -fx-font-family: "Consolas", "Courier New", monospace;
    -fx-text-fill: -md-fg-color; /* Label uses -fx-text-fill */
    -fx-fill: -md-fg-color; /* Text uses -fx-fill */
    -fx-background-color: -md-code-bg-color;
    -fx-padding: 0 4;
    -fx-background-radius: 4;
    -fx-font-size: 13px;
}

/* Code Block (Syntax Highlight Base) */
.markdown-code-block-container {
    -fx-padding: 0;
    -fx-background-insets: 0;
}

.markdown-code-block-flow {
    -fx-padding: 10;
    -fx-background-color: -md-code-bg-color;
    -fx-border-color: -md-border-color;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-font-family: "Consolas", "Monospace";
    -fx-font-size: 14px;
}

.markdown-copy-button {
    -fx-background-color: -md-bg-color;
    -fx-border-color: -md-border-color;
    -fx-border-radius: 4;
    -fx-background-radius: 4;
    -fx-font-size: 12px;
    -fx-cursor: hand;
}
.markdown-copy-button:hover {
    -fx-background-color: -md-code-bg-color;
}

.markdown-code-text {
    -fx-fill: -md-fg-color;
}

.code-keyword {
    -fx-fill: #d73a49; /* Red/Purple for keywords */
    -fx-font-weight: bold;
}

.code-string {
    -fx-fill: #032f62; /* Dark Blue for strings */
}

.code-comment {
    -fx-fill: #6a737d; /* Grey for comments */
    -fx-font-style: italic;
}

.code-json-key {
    -fx-fill: #22863a; /* Green for JSON keys */
    -fx-font-weight: bold;
}

.code-number {
    -fx-fill: #005cc5; /* Blue for numbers */
}

.code-tag {
    -fx-fill: #22863a; /* Green for tags */
    -fx-font-weight: bold;
}

.code-class {
    -fx-fill: #6f42c1; /* Purple for classes */
    -fx-font-weight: bold;
}

.code-id {
    -fx-fill: #6f42c1; /* Purple for IDs */
    -fx-font-weight: bold;
}

.code-color {
    -fx-fill: #005cc5; /* Blue for colors */
}

.code-attr {
    -fx-fill: #005cc5; /* Blue for attributes/flags */
}

/* Blockquote */
.markdown-quote {
    -fx-background-color: -md-quote-bg-color;
    -fx-padding: 8 16;
    -fx-border-color: -md-quote-border-color;
    -fx-border-width: 0 0 0 4;
}

/* Lists */
.markdown-list {
    -fx-padding: 0 0 0 20;
}

.markdown-list-item {
    -fx-alignment: TOP_LEFT;
}

.markdown-list-marker {
    -fx-font-weight: bold;
    -fx-text-fill: -md-fg-color;
    -fx-font-size: 14px;
    -fx-padding: 0 4 0 0;
    /* Ensure marker aligns with the first line of text */
    -fx-min-height: 20; /* Matches line height roughly */
    -fx-alignment: TOP_RIGHT;
}

.markdown-task-checkbox {
    -fx-padding: 0 5 0 0; /* Add space between checkbox and text */
    /* Adjust vertical alignment if needed via -fx-translate-y, but usually box model is enough */
}

/* Blockquote */
.markdown-quote {
    -fx-background-color: -md-quote-bg-color;
    -fx-padding: 8 16;
    -fx-border-color: -md-quote-border-color;
    -fx-border-width: 0 0 0 4;
    /* Ensure nested quotes have margin */
    -fx-background-insets: 0;
}
/* Optional: Style nested quotes differently if JavaFX CSS supported nesting selector cleanly, 
   but since we nest VBox in VBox, the same style applies recursively, which is correct behavior. */
.markdown-table {
    -fx-border-color: -md-border-color;
    -fx-border-width: 1 0 0 1; /* Top Left Borders for the grid itself */
    -fx-background-color: transparent;
    -fx-padding: 0;
    -fx-background-insets: 0;
    -fx-hgap: 0;
    -fx-vgap: 0;
    /* Optional: rounded corners for the whole table? */
    /* -fx-background-radius: 4; -fx-border-radius: 4; */
}

.markdown-table-cell {
    -fx-border-color: -md-border-color;
    -fx-border-width: 0 1 1 0; /* Right Bottom Borders for each cell */
    -fx-padding: 8 13; /* Increased padding for better readability */
    -fx-background-color: transparent; /* Background handled by row styles or header style */
    -fx-background-insets: 0;
}

.markdown-table-header {
    -fx-font-weight: bold;
    -fx-background-color: -md-table-header-bg;
}

/* Zebra Striping - Applied to the TextFlow (cell content container) */
/* Note: In JavaFX CSS, if the parent Grid cell doesn't have a style class distinguishing rows, 
   we rely on the code adding 'markdown-table-row-even/odd' to the cell node. */
.markdown-table-row-even {
    -fx-background-color: -md-bg-color;
}
.markdown-table-row-odd {
    -fx-background-color: -md-table-row-odd-bg;
}

/* Separator */
.markdown-separator {
    -fx-border-style: solid;
    -fx-border-width: 0 0 1 0;
    -fx-border-color: -md-border-color;
    -fx-background-color: transparent;
    -fx-padding: 10 0;
    -fx-pref-height: 1;
}

/* Images */
.markdown-image {
    -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);
}

.markdown-image-error {
    -fx-text-fill: red;
    -fx-font-weight: bold;
    -fx-padding: 5;
    -fx-border-color: red;
    -fx-border-width: 1;
    -fx-border-radius: 4;
}

/* Default Variables (Fallback) */
.root, .markdown-root {
    -md-fg-color: #24292f;
    -md-bg-color: #ffffff;
    -md-sub-text-color: #6a737d;
    -md-link-color: #0969da;
    -md-code-bg-color: #f6f8fa;
    -md-border-color: #d0d7de;
    -md-quote-bg-color: #f6f8fa;
    -md-quote-border-color: #dfe2e5;
    -md-table-header-bg: #f6f8fa;
    -md-table-row-odd-bg: #ffffff;
}
